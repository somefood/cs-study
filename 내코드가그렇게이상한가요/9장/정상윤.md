# 9장 : 설계의 건전성을 해치는 여러 악마

### 1. 데드 코드

사용하지 않는 코드는 가독성 저하 유발하니 즉시 삭제

### 2. YANGNI 원칙

예측해서 코드를 작성하는 것은 맞을 확률도 적어 데드코드가 될 확률이 높기에 지양하자

### 3. 매직넘버

설명이 없는 숫자를 사용을 하지 말자. 
숫자는 의미를 가지는 상수로 대체하여, 버그를 줄이고 가독성을 높이자.

### 4. 문자열 자료형에 대한 집착

기본 자료형 사용을 지양하고, 의미있는 단위로 나누어서 관리하자.

### 5. 전역변수

사용을 최소화하고, 필요하다면 영향 범위를 제한하여 사용하는 것이 좋다.

### 6. null 문제

- null 값이 의미를 갖게 하지 말자 (예 - 방어구를 장착하지 않은 경우, 배송이 시작되지 않은 경우)
- null 값이 의미를 갖기 시작하면, 부작용이 발생한다. (null 체크 - 코드 증가 - 버그 발생)
- null 리턴하지도, 전달하지도 말자
- static 변수를 활용하는 방법 
- 코틀린에는 null 안전 자료형이 있다. 

### 7. 예외를 Catch 하고서 무시하는 코드

- 원인 분석을 어렵게 한다.
- 예외가 발생하면 로그에 기록하고, 인식할 수 있도록 한다.

### 8. 설계 질서를 파괴하는 메타 프로그래밍

- 메타 프로그래밍 : 프로그램 실행 중에 해당 프로그램 구조 자체를 제어하는 프로그래밍, 넓은 의미에서 런타임에 수행되어야 할 작업의 일부를 컴파일 타임 동안 수행하는 프로그램을 말하기도 한다.
- 자바에서는 리플렉션이라는 기술을 활용한다.
- 리플렉션을 활용하면 접근 제한을 사용한 변수에 값에 접근하고, 변경할 수 있다. 
- 리플렉션 기술을 활용하면, 객체를 하드 코딩으로 생성할 수 있게된다.
- 이로 인해, 변경으로 인한 오류를 컴파일 단계에서 확인할 수 없게 된다.

### 9. 기술 중심 패키징

- 현실의 문제를 디자인 패턴을 기준으로 패키징을 한다면(유즈케이스, 엔티티, 값객체) 책임이 혼합되게 되고, 로직과 코드가 복잡해진다.
- 즉 비지니스 클래스를 기술 중심으로 패키징하면 응집도가 낮아진다.

### 결론

- 은총알은 없다.
- 상황에 맞게 최선의 선택을 해나가는 것이 중요함


