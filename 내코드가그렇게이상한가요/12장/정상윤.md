# 12장 : 메서드(함수) : 좋은 클래스에는 좋은 메서드가 있다.

#### 요약 : 좋은 클래스(객체)는 좋은 메서드가 필요하다. 그래서 좋은 메서드를 설계하는 방법을 알아야 한다.

### 1. 반드시 현재 클래스의 인스턴스 변수 사용하기

- 인스턴스 변수를 안전하게 조작하도록 메서드를 설계하면, 클래스 내부가 정상적인 상태인지 보장할 수 있다.
- 메서드는 현재 클래스의 인스턴스 변수를 사용하도록 설계하는 것이 원칙이다.
- 완전생성자 패턴을 통해 생성자에 가드를 만들어 두면, 기본적인 방어는 가능하다.
- 메서드가 다른 클래스의 변수를 변경한다면 좋지 않은 설계이다.(낮은 응집도)
```java
class ActorManager {
	shift(location Location, int shiftX, int shiftY) {
		location.x += shiftX;
		location.y += shiftY;
	}
}

```
- 다른 클래스의 인스턴스 변수를 변경하는 메서드를 만들고 싶다면, 변경된 내용을 다루는 새로운 인스턴스를 생성하고 이를 리턴하는 형태로 구현하는 것이 좋다

### 2. 불변을 활용해서 예상할 수 있는 메서드 만들기

- 가변 클래스가 갖는 예상치 못한 결과를 방지하는 것이 좋다.

### 3. 묻지 말고 명령하라

- getter / setter 는 다른 클래스를 확인하고 조작하는 메서드 구조이다.
- 많이 사용하지만, getter / setter 반드시 좋은 구조는 아니다.
- 호출 하는 쪽에서는 묻기(복잡한 처리) 보다는 명령(호출 받는 쪽에서 복잡한 처리)하는 형태가 좋다.

### 4. 커맨드 / 쿼리 분리

- 상태 변경(커맨드)과 추출(쿼리)을 동시에 하는 메서드
```java

int gainAndGetPoint(){
    point += 10;
    return point;
}
```

- 상태변경과 쿼리를 각각의 메서드로 분리
```java
/**
 * 포인트 증가(커맨드)
 */
void gainPoint(){
    point += 10;
}

/**
 * 쿼리
 * @return 포인트
 */
int getPoint(){
    return point;
}
```

### 5. 매개 변수

매개변수 설계 시 주의해야 할 사항

1. 불변 매개변수로 만들기
- 매개변수를 변경하면 값의 의미가 바뀌어서, 어떤 의미를 나타내는지 어디에서 변경되었는지 유추하기 어렵다. 
2. 플래그 매개변수 사용하지 않기
- 코드를 읽는 사람이 내부 로직을 이해해야 하므로 좋지 않은 설계이다
3. null 전달하지 않기
4. 출력 매개 변수 사용하지 않기
5. 매개변수는 최대한 적게 사용하기

### 6. 리턴값

1. `자료형`을 사용해서 리턴 값의 의도 나타내기 
- 기본 자료형 사용하지 않기
2. null 리턴하지 않기
3. 오류는 리턴 값으로 리턴하지 말고 예외 발생시키기

